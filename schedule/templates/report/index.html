{% block title %}Schedules{% endblock %}

{% block content %}

{% load static %}

<script src="{% static 'schedule/gantt/dhtmlxgantt.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'schedule/gantt/dhtmlxgantt.css' %}">


<div class="container">
    <br />
    <h3>Reporting</h3>

    <a class="btn btn-secondary" href="/schedule/0">Add a new schedule...</a>

    <div id="gantt_here" style='width:100%; height:100%;'></div>

    <div>
        <script>
            var tasks = {
                data : [            
                    {% for activity in activities %}
                        {
                            id : {{ activity.Id }},
                            text : '{{ activity.Name }}',
                            start_date : '{{ activity.FormattedStartDate }}',
                            end_date : '{{ activity.FormattedEndDate }}'
                        },  
                    {% endfor %}
                ]};

            gantt.init("gantt_here");
            gantt.parse(tasks);
        </script>
    </div>
</div>
    {% endblock %}