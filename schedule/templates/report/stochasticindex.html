{% extends "base.html" %}

{% block title %}Reporting{% endblock %}

{% block content %}

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<a style="margin-left: 10px;" href="/schedule/{{scheduleId}}">Back to Schedule...</a>

<div id="chart_div">
    <script>

        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
  
        function drawChart() {
          var durationList = [
            ['Duration', 'CDF'],
            {% for duration in durationList %}
              [{{ duration.1 }}, {{ duration.0 }}],
            {% endfor %}
          ];
  
          var data = google.visualization.arrayToDataTable(durationList);
  
          var options = {
            title: 'Stochastic Weather Aware Report',
            hAxis: {
                    title: 'Duration',
                    gridlines: { count: 11 },
                   },
            vAxis: {title: 'Probability', 
              gridlines: { count: 11 },
              viewWindow: {
                min: 0,
                max: 100
              }
            },
            legend: 'none',
            height: 600,
            pointSize: 1,
            tooltip: { trigger: 'selection' }
          };
  
          var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
  
          chart.draw(data, options);
        }
      </script>
  
</div>

{% endblock %}
