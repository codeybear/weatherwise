{% extends "base.html" %}

{% block title %}Activities{% endblock %}

{% block content %}

<br />
    <div class="container">
    <h3>Activity List</h3>

    <div class="row">
        <div class="col-sm">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Duration</th>                
                    </tr>
                </thead>
                {% for activity in activities %}
                <tr>
                    <td>
                        {{ activity.Name }}
                    </td>
                    <td>
                        {{ activity.Duration }}
                    </td>
                    <td>
                        <a href="/schedule/activity/{{activity.Id}}/detail">Edit...</a>
                    </td>            
                </tr>
                {% endfor %}
            </table>
        </div>
        
        <div class="col-sm">
            <form action="/schedule/activity/{{activity.Id}}/update" method="post" data-parsley-validate="">
                {% csrf_token %}
                <input type="hidden" name="id" value="{{activity.ScheduleId}}" />

                <div class="form-group">
                    <label for="inputName">Name</label>
                    <input type="text" class="form-control" id="inputName" name="name" value="{{activity.Name}}" required="" />
                </div>

                <div class="form-group w-50">
                    <label for="inputName">Duration</label>
                    <input type="text" class="form-control" id="inputDuration" name="duration" value="{{activity.Duration}}" required="" />
                </div>

                <div class="form-group">
                    <label for="activity-type">Activity Type</label>
                    <select class="form-control form-control-sm" name="activity-type">
                        {% for activitytype in activitytypes %}
                        <option value="{{activitytype.Id}}" {% if activity.ActivityTypeId == activitytype.Id %}selected{% endif %}>{{activitytype.Name}}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="location">Location</label>
                    <select class="form-control form-control-sm" name="location">                        
                        {% for location in locations  %}
                        <option value="{{location.Id}}" {% if activity.LocationId == location.Id %}selected{% endif %}>{{location.Name}}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a class="btn btn-secondary" href="/schedule/activity/{{activity.ScheduleId}}/index">Cancel</a>
                </div>                
            </form>
        </div>
    </div>

    <a href="/activity/0">Add a new schedule...</a>
</div>
{% endblock %}